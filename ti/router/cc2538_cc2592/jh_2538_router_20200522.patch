diff --git a/Components/bsp/srf06eb_cc2538/drivers/source/bsp.h b/Components/bsp/srf06eb_cc2538/drivers/source/bsp.h
index 38ac3d9..86efc35 100644
--- a/Components/bsp/srf06eb_cc2538/drivers/source/bsp.h
+++ b/Components/bsp/srf06eb_cc2538/drivers/source/bsp.h
@@ -81,38 +81,28 @@ extern "C"
 #define BSP_3V3_EN              GPIO_PIN_4      //!< PB4
 
 // Board LED defines
-#define BSP_LED_BASE            GPIO_C_BASE
-#define BSP_LED_1               GPIO_PIN_0      //!< PC0
+#define BSP_LED_BASE            GPIO_B_BASE
+#define BSP_LED_1               GPIO_PIN_1
 #define BSP_LED_2               GPIO_PIN_1      //!< PC1
 #define BSP_LED_3               GPIO_PIN_2      //!< PC2
 #define BSP_LED_4               GPIO_PIN_3      //!< PC3
-#define BSP_LED_ALL             (BSP_LED_1 | \
-                                 BSP_LED_2 | \
-                                 BSP_LED_3 | \
-                                 BSP_LED_4)     //!< Bitmask of all LEDs
+#define BSP_LED_ALL             BSP_LED_1
 
 // Board key defines
-#define BSP_KEY_DIR_BASE        GPIO_C_BASE     //!< Base for left/right/up/down
+#define BSP_KEY_DIR_BASE        GPIO_A_BASE
 #define BSP_KEY_SEL_BASE        GPIO_A_BASE     //!< Base for Select
 #define BSP_KEY_1               GPIO_PIN_4      //!< PC4
-#define BSP_KEY_2               GPIO_PIN_5      //!< PC5
+#define	BSP_KEY_2				GPIO_PIN_7
 #define BSP_KEY_3               GPIO_PIN_6      //!< PC6
 #define BSP_KEY_4               GPIO_PIN_7      //!< PC7
 #define BSP_KEY_5               GPIO_PIN_3      //!< PA3
-#define BSP_KEY_ALL             (BSP_KEY_1| \
-                                 BSP_KEY_2| \
-                                 BSP_KEY_3| \
-                                 BSP_KEY_4| \
-                                 BSP_KEY_5)     //!< Bitmask of all keys
+#define BSP_KEY_ALL             BSP_KEY_2
 #define BSP_KEY_LEFT            BSP_KEY_1
-#define BSP_KEY_RIGHT           BSP_KEY_2
+#define BSP_KEY_RIGHT         	BSP_KEY_2
 #define BSP_KEY_UP              BSP_KEY_3
 #define BSP_KEY_DOWN            BSP_KEY_4
 #define BSP_KEY_SELECT          BSP_KEY_5
-#define BSP_KEY_DIR_ALL         (BSP_KEY_LEFT|  \
-                                 BSP_KEY_RIGHT| \
-                                 BSP_KEY_UP|    \
-                                 BSP_KEY_DOWN)  //!< Bitmask of all dir. keys
+#define BSP_KEY_DIR_ALL         BSP_KEY_RIGHT
 
 // Board LCD defines
 #define BSP_LCD_MODE_BASE       GPIO_B_BASE
diff --git a/Components/hal/include/hal_led.h b/Components/hal/include/hal_led.h
index bb327f1..2892056 100644
--- a/Components/hal/include/hal_led.h
+++ b/Components/hal/include/hal_led.h
@@ -63,7 +63,7 @@ extern "C"
 #define HAL_LED_2     0x02
 #define HAL_LED_3     0x04
 #define HAL_LED_4     0x08
-#define HAL_LED_ALL   (HAL_LED_1 | HAL_LED_2 | HAL_LED_3 | HAL_LED_4)
+#define HAL_LED_ALL   (HAL_LED_1)
 
 /* Modes */
 #define HAL_LED_MODE_OFF     0x00
diff --git a/Components/hal/target/CC2538/hal_board_cfg.h b/Components/hal/target/CC2538/hal_board_cfg.h
index 4e4ecf0..9a45113 100644
--- a/Components/hal/target/CC2538/hal_board_cfg.h
+++ b/Components/hal/target/CC2538/hal_board_cfg.h
@@ -81,7 +81,7 @@
 
 #define xHAL_PA_LNA
 #define xHAL_PA_LNA_CC2590
-#define xHAL_PA_LNA_CC2592
+#define HAL_PA_LNA_CC2592
 
 /* HGM Port and Pin */
 #define HGM_BASE   GPIO_D_BASE
@@ -149,7 +149,7 @@
 #if defined (HAL_PA_LNA) || defined (HAL_PA_LNA_CC2592) || \
     defined (HAL_PA_LNA_CC2590) || defined (MAC_RUNTIME_CC2591) || \
     defined (MAC_RUNTIME_CC2592) || defined (MAC_RUNTIME_CC2590)
-#define HAL_NUM_LEDS            2
+#define HAL_NUM_LEDS            2       //1
 #else
 #define HAL_NUM_LEDS            4
 #endif
@@ -221,7 +221,7 @@
 #define HAL_FLASH_WORD_SIZE       4
 
 // Z-Stack uses flash pages for NV
-#define HAL_NV_PAGE_CNT           6
+#define HAL_NV_PAGE_CNT           12    //6
 #define HAL_NV_PAGE_BEG           (HAL_NV_PAGE_END-HAL_NV_PAGE_CNT+1)
 #define HAL_NV_START_ADDR         ((FLASH_BASE) + (HAL_NV_PAGE_BEG * HAL_FLASH_PAGE_SIZE))
 
@@ -362,26 +362,27 @@ extern void MAC_RfFrontendSetup(void);
                                                                             \
   /* Configure the leds as outputs */                                       \
   GPIOPinTypeGPIOOutput(BSP_LED_BASE, BSP_LED_1);                           \
-  GPIOPinTypeGPIOOutput(BSP_LED_BASE, BSP_LED_2);                           \
-  GPIOPinTypeGPIOOutput(BSP_LED_BASE, BSP_LED_3);                           \
-  GPIOPinTypeGPIOOutput(BSP_LED_BASE, BSP_LED_4);                           \
+  /*GPIOPinTypeGPIOOutput(BSP_LED_BASE, BSP_LED_2);*/                       \
+  /*GPIOPinTypeGPIOOutput(BSP_LED_BASE, BSP_LED_3); */                      \
+  /*GPIOPinTypeGPIOOutput(BSP_LED_BASE, BSP_LED_4); */                      \
                                                                             \
   /* reset does not affect GPIO state */                                    \
   HAL_TURN_OFF_LED1();                                                      \
-  HAL_TURN_OFF_LED2();                                                      \
-  HAL_TURN_OFF_LED3();                                                      \
-  HAL_TURN_OFF_LED4();                                                      \
+  /*HAL_TURN_OFF_LED2();*/                                                  \
+  /*HAL_TURN_OFF_LED3();*/                                                  \
+  /*HAL_TURN_OFF_LED4();*/                                                  \
                                                                             \
-  GPIOPinTypeGPIOOutput(BSP_LCD_PWR_BASE, BSP_LCD_PWR);  /* PWR output */   \
-  GPIOPinWrite(BSP_LCD_PWR_BASE, BSP_LCD_PWR, 0);        /* low */          \
-  GPIOPinTypeGPIOInput(BSP_LCD_CS_BASE, BSP_LCD_CS); /*CSn input no drive*/ \
+  /*GPIOPinTypeGPIOOutput(BSP_LCD_PWR_BASE, BSP_LCD_PWR);*/  /* PWR output */   \
+  /*GPIOPinWrite(BSP_LCD_PWR_BASE, BSP_LCD_PWR, 0);*/        /* low */          \
+  /*GPIOPinTypeGPIOInput(BSP_LCD_CS_BASE, BSP_LCD_CS);*/ /*CSn input no drive*/ \
                                                                             \
   INIT_PWM_PINS()                                                           \
                                                                             \
 }
 
 /* ----------- LED's ---------- */
-#define HAL_TURN_OFF_LED1()       GPIOPinWrite(BSP_LED_BASE, BSP_LED_1, 0)
+//#define HAL_TURN_OFF_LED1()       GPIOPinWrite(BSP_LED_BASE, BSP_LED_1, 0)
+#define HAL_TURN_OFF_LED1()       GPIOPinWrite(BSP_LED_BASE, BSP_LED_1, BSP_LED_1)
 #define HAL_TURN_OFF_LED2()       GPIOPinWrite(BSP_LED_BASE, BSP_LED_2, 0)
 
 #if defined (HAL_PA_LNA) || defined (HAL_PA_LNA_CC2592) || \
@@ -394,7 +395,8 @@ extern void MAC_RfFrontendSetup(void);
 #define HAL_TURN_OFF_LED4()       GPIOPinWrite(BSP_LED_BASE, BSP_LED_4, 0)
 #endif
 
-#define HAL_TURN_ON_LED1()        GPIOPinWrite(BSP_LED_BASE, BSP_LED_1, BSP_LED_1)
+//#define HAL_TURN_ON_LED1()        GPIOPinWrite(BSP_LED_BASE, BSP_LED_1, BSP_LED_1)
+#define HAL_TURN_ON_LED1()        GPIOPinWrite(BSP_LED_BASE, BSP_LED_1, 0)
 #define HAL_TURN_ON_LED2()        GPIOPinWrite(BSP_LED_BASE, BSP_LED_2, BSP_LED_2)
 #if defined (HAL_PA_LNA) || defined (HAL_PA_LNA_CC2592) || \
     defined (HAL_PA_LNA_CC2590) || defined (MAC_RUNTIME_CC2591) || \
@@ -458,7 +460,7 @@ extern void MAC_RfFrontendSetup(void);
 
 /* Set to TRUE enable LCD usage, FALSE disable it */
 #ifndef HAL_LCD
-#define HAL_LCD TRUE
+#define HAL_LCD FALSE   //TRUE
 #endif
 
 /* Set to TRUE enable LED usage, FALSE disable it */
diff --git a/Components/hal/target/CC2538/hal_key.c b/Components/hal/target/CC2538/hal_key.c
index b8359d7..bc71a2c 100644
--- a/Components/hal/target/CC2538/hal_key.c
+++ b/Components/hal/target/CC2538/hal_key.c
@@ -101,24 +101,24 @@ uint8 bspKeyPushedEx(uint8_t ui8ReadMask)
   uint32_t ui32DirPins;
   uint32_t ui32SelPin;
   uint32_t ui32DirPins_prev = ~GPIOPinRead(BSP_KEY_DIR_BASE, BSP_KEY_DIR_ALL);
-  uint32_t ui32SelPin_prev = ~GPIOPinRead(BSP_KEY_SEL_BASE, BSP_KEY_SELECT);
+  //uint32_t ui32SelPin_prev = ~GPIOPinRead(BSP_KEY_SEL_BASE, BSP_KEY_SELECT);
   uint16 i;
   
   // Read pin states + debounce
   for(i = 0; i < 500; i++)
   {
     ui32DirPins = ~GPIOPinRead(BSP_KEY_DIR_BASE, BSP_KEY_DIR_ALL);
-    ui32SelPin  = ~GPIOPinRead(BSP_KEY_SEL_BASE, BSP_KEY_SELECT);
+    //ui32SelPin  = ~GPIOPinRead(BSP_KEY_SEL_BASE, BSP_KEY_SELECT);
     
-    if ((ui32DirPins != ui32DirPins_prev) || (ui32SelPin != ui32SelPin_prev))
+    if ((ui32DirPins != ui32DirPins_prev)/* || (ui32SelPin != ui32SelPin_prev)*/)
     {
       i = 0;
       ui32DirPins_prev = ui32DirPins;
-      ui32SelPin_prev = ui32SelPin;
+      //ui32SelPin_prev = ui32SelPin;
     }
   }
   
-  return ((ui32DirPins & (BSP_KEY_LEFT | BSP_KEY_RIGHT | BSP_KEY_UP | BSP_KEY_DOWN) | (ui32SelPin & BSP_KEY_SELECT)));
+  return ((ui32DirPins & BSP_KEY_RIGHT/* (BSP_KEY_LEFT | BSP_KEY_RIGHT | BSP_KEY_UP | BSP_KEY_DOWN) | (ui32SelPin & BSP_KEY_SELECT)*/));
 }
 #endif
 
@@ -162,7 +162,7 @@ uint8 hal_key_keys(void)
 #endif
   if(ucKeysPressed & BSP_KEY_LEFT)
   {
-    x |= HAL_KEY_SW_4;
+    //x |= HAL_KEY_SW_4;
   }
   if(ucKeysPressed & BSP_KEY_RIGHT)
   {
@@ -170,15 +170,15 @@ uint8 hal_key_keys(void)
   }
   if(ucKeysPressed & BSP_KEY_UP)
   {
-    x |= HAL_KEY_SW_1;
+    //x |= HAL_KEY_SW_1;
   }
   if(ucKeysPressed & BSP_KEY_DOWN)
   {
-    x |= HAL_KEY_SW_3;
+    //x |= HAL_KEY_SW_3;
   }
   if(ucKeysPressed & BSP_KEY_SELECT)
   {
-    x |= HAL_KEY_SW_5;
+    //x |= HAL_KEY_SW_5;
   }
   return x; 
 }
@@ -206,7 +206,7 @@ uint8 hal_key_int_keys(void)
 
   if(ucKeysPressed & BSP_KEY_LEFT)
   {
-    x |= HAL_KEY_SW_4;
+    //x |= HAL_KEY_SW_4;
   }
   if(ucKeysPressed & BSP_KEY_RIGHT)
   {
@@ -214,11 +214,11 @@ uint8 hal_key_int_keys(void)
   }
   if(ucKeysPressed & BSP_KEY_UP)
   {
-    x |= HAL_KEY_SW_1;
+    //x |= HAL_KEY_SW_1;
   }
   if(ucKeysPressed & BSP_KEY_DOWN)
   {
-    x |= HAL_KEY_SW_3;
+    //x |= HAL_KEY_SW_3;
   }
   
   
@@ -230,7 +230,7 @@ uint8 hal_key_int_keys(void)
 
   if(ucKeysPressed & BSP_KEY_SELECT)
   {
-    x |= HAL_KEY_SW_5;
+    //x |= HAL_KEY_SW_5;
   }
   return x;
 }
@@ -262,16 +262,16 @@ void HalKeyConfig( bool interruptEnable, halKeyCBack_t cback)
     bspKeyInit(BSP_KEY_MODE_ISR);
     
     /* Map function dirKeyIsr to UP, LEFT, RIGHT and DOWN keys */
-    bspKeyIntRegister((BSP_KEY_UP|BSP_KEY_LEFT|BSP_KEY_RIGHT|BSP_KEY_DOWN),
+    bspKeyIntRegister(BSP_KEY_RIGHT,
                       &interrupt_keybd);
     
     /* Map function selectKeyIsr to SELECT key */
-    bspKeyIntRegister(BSP_KEY_SELECT, &interrupt_keybd);
+    //bspKeyIntRegister(BSP_KEY_SELECT, &interrupt_keybd);
     
     /* Enable interrupts on all keys */
     bspKeyIntEnable(BSP_KEY_ALL);
     
-    IntPrioritySet(INT_GPIOC, HAL_INT_PRIOR_KEY);              
+    //IntPrioritySet(INT_GPIOC, HAL_INT_PRIOR_KEY);              
     IntPrioritySet(INT_GPIOA, HAL_INT_PRIOR_KEY);     
     
     /* Cancel polling if there is one active */
@@ -394,12 +394,12 @@ uint8 hal_key_no_debounce(void)
   dirPins = (~GPIOPinRead(BSP_KEY_DIR_BASE,
                           BSP_KEY_DIR_ALL)) \
                           & BSP_KEY_DIR_ALL;
-  selPin  = (~GPIOPinRead(BSP_KEY_SEL_BASE,
+  /*selPin  = (~GPIOPinRead(BSP_KEY_SEL_BASE,
                           BSP_KEY_SELECT)) \
-                          & BSP_KEY_SELECT;
+                          & BSP_KEY_SELECT;*/
   if(dirPins & BSP_KEY_LEFT)
   {
-    x |= HAL_KEY_SW_4;
+    //x |= HAL_KEY_SW_4;
   }
   if(dirPins & BSP_KEY_RIGHT)
   {
@@ -407,15 +407,15 @@ uint8 hal_key_no_debounce(void)
   }
   if(dirPins & BSP_KEY_UP)
   {
-    x |= HAL_KEY_SW_1;
+    //x |= HAL_KEY_SW_1;
   }
   if(dirPins & BSP_KEY_DOWN)
   {
-    x |= HAL_KEY_SW_3;
+    //x |= HAL_KEY_SW_3;
   }
   if(selPin & BSP_KEY_SELECT)
   {
-    x |= HAL_KEY_SW_5;
+    //x |= HAL_KEY_SW_5;
   }
   return x;
 }
diff --git a/Components/hal/target/CC2538/startup_ewarm.c b/Components/hal/target/CC2538/startup_ewarm.c
index 83ae1b4..2b43d7e 100644
--- a/Components/hal/target/CC2538/startup_ewarm.c
+++ b/Components/hal/target/CC2538/startup_ewarm.c
@@ -55,6 +55,7 @@
 #else 
 #define FLASH_START_ADDR 0x00200000
 #define BOOTLOADER_BACKDOOR_DISABLE     0xEFFFFFFF
+#define BOOTLOADER_BACKDOOR_ENABLE			0xF7FFFFFF
 #endif
 
 //
@@ -140,7 +141,7 @@ typedef struct
 
 __root const lockPageCCA_t __cca @ ".cca" =
 {
-  BOOTLOADER_BACKDOOR_DISABLE,  // Bootloader backdoor disabled
+  BOOTLOADER_BACKDOOR_ENABLE,  // Bootloader backdoor 
   0,                            // Image valid bytes
   FLASH_START_ADDR // Vector table located at flash start address
 };
diff --git a/Components/osal/mcu/cc2538/osal_nv.c b/Components/osal/mcu/cc2538/osal_nv.c
index 9275e64..6d18224 100644
--- a/Components/osal/mcu/cc2538/osal_nv.c
+++ b/Components/osal/mcu/cc2538/osal_nv.c
@@ -62,7 +62,7 @@
  * $PROJ_DIR$\..\..\..\Tools\"Processor Specific Name"\"Specific Name".xcl
  */
 #ifndef OSAL_NV_PHY_PER_PG
-  #define OSAL_NV_PHY_PER_PG    1
+  #define OSAL_NV_PHY_PER_PG    2//1
 #endif
 
 #define OSAL_NV_PAGES_USED     (HAL_NV_PAGE_CNT / OSAL_NV_PHY_PER_PG)
diff --git a/Components/stack/nwk/nwk_globals.c b/Components/stack/nwk/nwk_globals.c
index eb436ae..1741289 100644
--- a/Components/stack/nwk/nwk_globals.c
+++ b/Components/stack/nwk/nwk_globals.c
@@ -71,10 +71,10 @@
  * CONSTANTS
  */
 // Maximums for the data buffer queue
-#define NWK_MAX_DATABUFS_WAITING    8     // Waiting to be sent to MAC
-#define NWK_MAX_DATABUFS_SCHEDULED  5     // Timed messages to be sent
-#define NWK_MAX_DATABUFS_CONFIRMED  5     // Held after MAC confirms
-#define NWK_MAX_DATABUFS_TOTAL      12    // Total number of buffers
+#define NWK_MAX_DATABUFS_WAITING    180//8     // Waiting to be sent to MAC
+#define NWK_MAX_DATABUFS_SCHEDULED  150//5     // Timed messages to be sent
+#define NWK_MAX_DATABUFS_CONFIRMED  150//5     // Held after MAC confirms
+#define NWK_MAX_DATABUFS_TOTAL      255//12    // Total number of buffers
 
 // 1-255 (0 -> 256) X RTG_TIMER_INTERVAL
 // A known shortcoming is that when a message is enqueued as "hold" for a
diff --git a/Components/stack/sys/ZGlobals.c b/Components/stack/sys/ZGlobals.c
index d170283..7ff7645 100644
--- a/Components/stack/sys/ZGlobals.c
+++ b/Components/stack/sys/ZGlobals.c
@@ -212,7 +212,7 @@ uint8 zgEndDeviceConfiguration = END_DEV_CONFIGURATION;
 //
 // NOTICE:  Before enabling Child Aging make sure to review all the related
 // definitions in this file, especially zgNwkParentInformation.
-uint8 zgChildAgingEnable = TRUE;
+uint8 zgChildAgingEnable = FALSE;	//TRUE;
 
 //==========    TouchLink NWK configuration    ===============
 // Values used by Router when starts a network as initiator
diff --git a/Components/zmac/ZMAC.h b/Components/zmac/ZMAC.h
index d658113..356ecc6 100644
--- a/Components/zmac/ZMAC.h
+++ b/Components/zmac/ZMAC.h
@@ -457,8 +457,11 @@ typedef enum
   TX_PWR_PLUS_15,
   TX_PWR_PLUS_16,
   TX_PWR_PLUS_17,
-  TX_PWR_PLUS_18,
-  TX_PWR_PLUS_19
+  TX_PWR_PLUS_18, 
+  TX_PWR_PLUS_19,
+  TX_PWR_PLUS_20,
+  TX_PWR_PLUS_21,
+  TX_PWR_PLUS_22
 } ZMacTransmitPower_t;  // The transmit power in units of -1 dBm.
 
 typedef struct
diff --git a/Projects/zstack/HomeAutomation/GenericApp/CC2538/GenericApp.ewd b/Projects/zstack/HomeAutomation/GenericApp/CC2538/GenericApp.ewd
index c2d4d47..d6f59b5 100644
--- a/Projects/zstack/HomeAutomation/GenericApp/CC2538/GenericApp.ewd
+++ b/Projects/zstack/HomeAutomation/GenericApp/CC2538/GenericApp.ewd
@@ -11,7 +11,7 @@
             <name>C-SPY</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>28</version>
+                <version>32</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -182,14 +182,6 @@
                     <name>OCMulticoreNrOfCores</name>
                     <state>1</state>
                 </option>
-                <option>
-                    <name>OCMulticoreMaster</name>
-                    <state>0</state>
-                </option>
-                <option>
-                    <name>OCMulticorePort</name>
-                    <state>53461</state>
-                </option>
                 <option>
                     <name>OCMulticoreWorkspace</name>
                     <state></state>
@@ -210,6 +202,26 @@
                     <name>OCAttachSlave</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>MassEraseBeforeFlashing</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>OCMulticoreNrOfCoresSlave</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>OCMulticoreAMPConfigType</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>OCMulticoreSessionFile</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>OCTpiuBaseOption</name>
+                    <state>1</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -945,6 +957,27 @@
                 </option>
             </data>
         </settings>
+        <settings>
+            <name>NULINK_ID</name>
+            <archiveVersion>2</archiveVersion>
+            <data>
+                <version>0</version>
+                <wantNonLocal>1</wantNonLocal>
+                <debug>1</debug>
+                <option>
+                    <name>OCDriverInfo</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>DoLogfile</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>LogFile</name>
+                    <state>$PROJ_DIR$\cspycomm.log</state>
+                </option>
+            </data>
+        </settings>
         <settings>
             <name>PEMICRO_ID</name>
             <archiveVersion>2</archiveVersion>
@@ -974,7 +1007,7 @@
             <name>STLINK_ID</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>4</version>
+                <version>7</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -1072,7 +1105,7 @@
                 </option>
                 <option>
                     <name>CCSTLinkJtagSpeedList</name>
-                    <version>0</version>
+                    <version>2</version>
                     <state>0</state>
                 </option>
                 <option>
@@ -1083,6 +1116,15 @@
                     <name>CCSTLinkDebugAccessPortRadio</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>CCSTLinkUseServerSelect</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>CCSTLinkProbeList</name>
+                    <version>1</version>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -1185,7 +1227,7 @@
             <name>XDS100_ID</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>6</version>
+                <version>8</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -1347,6 +1389,18 @@
                     <name>CCXds100SWOPort</name>
                     <state>1</state>
                 </option>
+                <option>
+                    <name>CCXDSTargetVccEnable</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>CCXDSTargetVoltage</name>
+                    <state>###Uninitialized###</state>
+                </option>
+                <option>
+                    <name>OCXDSDigitalStatesConfigFile</name>
+                    <state>1</state>
+                </option>
             </data>
         </settings>
         <debuggerPlugins>
@@ -1362,14 +1416,42 @@
                 <file>$TOOLKIT_DIR$\plugins\rtos\embOS\embOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\FreeRtos\FreeRtosArmPlugin.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\HWRTOSplugin\HWRTOSplugin.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\Mbed\MbedArmPlugin.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\Mbed\MbedArmPlugin2.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\OpenRTOS\OpenRTOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\RemedyRtosViewer\RemedyRtosViewer.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\SafeRTOS\SafeRTOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\SMX\smxAwareIarArm8b.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\SMX\smxAwareIarArm8bBE.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\ThreadX\ThreadXArmPlugin.ENU.ewplugin</file>
                 <loadFlag>0</loadFlag>
@@ -1391,11 +1473,11 @@
                 <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
-                <file>$EW_DIR$\common\plugins\CodeCoverage\CodeCoverage.ENU.ewplugin</file>
-                <loadFlag>1</loadFlag>
+                <file>$EW_DIR$\common\plugins\Orti\Orti.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
-                <file>$EW_DIR$\common\plugins\Orti\Orti.ENU.ewplugin</file>
+                <file>$EW_DIR$\common\plugins\TargetAccessServer\TargetAccessServer.ENU.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
@@ -1414,7 +1496,7 @@
             <name>C-SPY</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>28</version>
+                <version>32</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -1487,11 +1569,11 @@
                 </option>
                 <option>
                     <name>OCDynDriverList</name>
-                    <state>XDS100_ID</state>
+                    <state>JLINK_ID</state>
                 </option>
                 <option>
                     <name>OCLastSavedByProductVersion</name>
-                    <state>7.70.1.11471</state>
+                    <state>8.50.1.24770</state>
                 </option>
                 <option>
                     <name>UseFlashLoader</name>
@@ -1585,14 +1667,6 @@
                     <name>OCMulticoreNrOfCores</name>
                     <state>1</state>
                 </option>
-                <option>
-                    <name>OCMulticoreMaster</name>
-                    <state>0</state>
-                </option>
-                <option>
-                    <name>OCMulticorePort</name>
-                    <state>53461</state>
-                </option>
                 <option>
                     <name>OCMulticoreWorkspace</name>
                     <state></state>
@@ -1613,6 +1687,26 @@
                     <name>OCAttachSlave</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>MassEraseBeforeFlashing</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>OCMulticoreNrOfCoresSlave</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>OCMulticoreAMPConfigType</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>OCMulticoreSessionFile</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>OCTpiuBaseOption</name>
+                    <state>1</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -2230,7 +2324,7 @@
                 <option>
                     <name>CCJLinkResetList</name>
                     <version>6</version>
-                    <state>5</state>
+                    <state>7</state>
                 </option>
                 <option>
                     <name>CCJLinkInterfaceCmdLine</name>
@@ -2348,6 +2442,27 @@
                 </option>
             </data>
         </settings>
+        <settings>
+            <name>NULINK_ID</name>
+            <archiveVersion>2</archiveVersion>
+            <data>
+                <version>0</version>
+                <wantNonLocal>1</wantNonLocal>
+                <debug>1</debug>
+                <option>
+                    <name>OCDriverInfo</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>DoLogfile</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>LogFile</name>
+                    <state>$PROJ_DIR$\cspycomm.log</state>
+                </option>
+            </data>
+        </settings>
         <settings>
             <name>PEMICRO_ID</name>
             <archiveVersion>2</archiveVersion>
@@ -2377,7 +2492,7 @@
             <name>STLINK_ID</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>4</version>
+                <version>7</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -2475,7 +2590,7 @@
                 </option>
                 <option>
                     <name>CCSTLinkJtagSpeedList</name>
-                    <version>0</version>
+                    <version>2</version>
                     <state>0</state>
                 </option>
                 <option>
@@ -2486,6 +2601,15 @@
                     <name>CCSTLinkDebugAccessPortRadio</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>CCSTLinkUseServerSelect</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>CCSTLinkProbeList</name>
+                    <version>1</version>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -2588,7 +2712,7 @@
             <name>XDS100_ID</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>6</version>
+                <version>8</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -2750,6 +2874,18 @@
                     <name>CCXds100SWOPort</name>
                     <state>1</state>
                 </option>
+                <option>
+                    <name>CCXDSTargetVccEnable</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>CCXDSTargetVoltage</name>
+                    <state>3.3</state>
+                </option>
+                <option>
+                    <name>OCXDSDigitalStatesConfigFile</name>
+                    <state>1</state>
+                </option>
             </data>
         </settings>
         <debuggerPlugins>
@@ -2765,14 +2901,42 @@
                 <file>$TOOLKIT_DIR$\plugins\rtos\embOS\embOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\FreeRtos\FreeRtosArmPlugin.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\HWRTOSplugin\HWRTOSplugin.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\Mbed\MbedArmPlugin.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\Mbed\MbedArmPlugin2.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\OpenRTOS\OpenRTOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\RemedyRtosViewer\RemedyRtosViewer.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\SafeRTOS\SafeRTOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\SMX\smxAwareIarArm8b.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\SMX\smxAwareIarArm8bBE.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\ThreadX\ThreadXArmPlugin.ENU.ewplugin</file>
                 <loadFlag>0</loadFlag>
@@ -2794,11 +2958,11 @@
                 <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
-                <file>$EW_DIR$\common\plugins\CodeCoverage\CodeCoverage.ENU.ewplugin</file>
-                <loadFlag>1</loadFlag>
+                <file>$EW_DIR$\common\plugins\Orti\Orti.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
-                <file>$EW_DIR$\common\plugins\Orti\Orti.ENU.ewplugin</file>
+                <file>$EW_DIR$\common\plugins\TargetAccessServer\TargetAccessServer.ENU.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
@@ -2817,7 +2981,7 @@
             <name>C-SPY</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>28</version>
+                <version>32</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -2988,14 +3152,6 @@
                     <name>OCMulticoreNrOfCores</name>
                     <state>1</state>
                 </option>
-                <option>
-                    <name>OCMulticoreMaster</name>
-                    <state>0</state>
-                </option>
-                <option>
-                    <name>OCMulticorePort</name>
-                    <state>53461</state>
-                </option>
                 <option>
                     <name>OCMulticoreWorkspace</name>
                     <state></state>
@@ -3016,6 +3172,26 @@
                     <name>OCAttachSlave</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>MassEraseBeforeFlashing</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>OCMulticoreNrOfCoresSlave</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>OCMulticoreAMPConfigType</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>OCMulticoreSessionFile</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>OCTpiuBaseOption</name>
+                    <state>1</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -3751,6 +3927,27 @@
                 </option>
             </data>
         </settings>
+        <settings>
+            <name>NULINK_ID</name>
+            <archiveVersion>2</archiveVersion>
+            <data>
+                <version>0</version>
+                <wantNonLocal>1</wantNonLocal>
+                <debug>1</debug>
+                <option>
+                    <name>OCDriverInfo</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>DoLogfile</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>LogFile</name>
+                    <state>$PROJ_DIR$\cspycomm.log</state>
+                </option>
+            </data>
+        </settings>
         <settings>
             <name>PEMICRO_ID</name>
             <archiveVersion>2</archiveVersion>
@@ -3780,7 +3977,7 @@
             <name>STLINK_ID</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>4</version>
+                <version>7</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -3878,7 +4075,7 @@
                 </option>
                 <option>
                     <name>CCSTLinkJtagSpeedList</name>
-                    <version>0</version>
+                    <version>2</version>
                     <state>0</state>
                 </option>
                 <option>
@@ -3889,6 +4086,15 @@
                     <name>CCSTLinkDebugAccessPortRadio</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>CCSTLinkUseServerSelect</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>CCSTLinkProbeList</name>
+                    <version>1</version>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -3991,7 +4197,7 @@
             <name>XDS100_ID</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>6</version>
+                <version>8</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -4153,6 +4359,18 @@
                     <name>CCXds100SWOPort</name>
                     <state>1</state>
                 </option>
+                <option>
+                    <name>CCXDSTargetVccEnable</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>CCXDSTargetVoltage</name>
+                    <state>###Uninitialized###</state>
+                </option>
+                <option>
+                    <name>OCXDSDigitalStatesConfigFile</name>
+                    <state>1</state>
+                </option>
             </data>
         </settings>
         <debuggerPlugins>
@@ -4168,14 +4386,42 @@
                 <file>$TOOLKIT_DIR$\plugins\rtos\embOS\embOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\FreeRtos\FreeRtosArmPlugin.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\HWRTOSplugin\HWRTOSplugin.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\Mbed\MbedArmPlugin.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\Mbed\MbedArmPlugin2.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\OpenRTOS\OpenRTOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\RemedyRtosViewer\RemedyRtosViewer.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\SafeRTOS\SafeRTOSPlugin.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\SMX\smxAwareIarArm8b.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
+            <plugin>
+                <file>$TOOLKIT_DIR$\plugins\rtos\SMX\smxAwareIarArm8bBE.ewplugin</file>
+                <loadFlag>0</loadFlag>
+            </plugin>
             <plugin>
                 <file>$TOOLKIT_DIR$\plugins\rtos\ThreadX\ThreadXArmPlugin.ENU.ewplugin</file>
                 <loadFlag>0</loadFlag>
@@ -4197,11 +4443,11 @@
                 <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
-                <file>$EW_DIR$\common\plugins\CodeCoverage\CodeCoverage.ENU.ewplugin</file>
-                <loadFlag>1</loadFlag>
+                <file>$EW_DIR$\common\plugins\Orti\Orti.ENU.ewplugin</file>
+                <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
-                <file>$EW_DIR$\common\plugins\Orti\Orti.ENU.ewplugin</file>
+                <file>$EW_DIR$\common\plugins\TargetAccessServer\TargetAccessServer.ENU.ewplugin</file>
                 <loadFlag>0</loadFlag>
             </plugin>
             <plugin>
diff --git a/Projects/zstack/HomeAutomation/GenericApp/CC2538/GenericApp.ewp b/Projects/zstack/HomeAutomation/GenericApp/CC2538/GenericApp.ewp
index 99cefbb..6d48e31 100644
--- a/Projects/zstack/HomeAutomation/GenericApp/CC2538/GenericApp.ewp
+++ b/Projects/zstack/HomeAutomation/GenericApp/CC2538/GenericApp.ewp
@@ -11,7 +11,7 @@
             <name>General</name>
             <archiveVersion>3</archiveVersion>
             <data>
-                <version>28</version>
+                <version>31</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -116,7 +116,7 @@
                 </option>
                 <option>
                     <name>GBECoreSlave</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -133,7 +133,7 @@
                 </option>
                 <option>
                     <name>CoreVariant</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -156,7 +156,7 @@
                 </option>
                 <option>
                     <name>GFPUCoreSlave2</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -196,13 +196,26 @@
                     <name>GenLocaleDisplayOnly</name>
                     <state></state>
                 </option>
+                <option>
+                    <name>DSPExtension</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>TrustZone</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>TrustZoneModes</name>
+                    <version>0</version>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
             <name>ICCARM</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>34</version>
+                <version>36</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -498,6 +511,14 @@
                     <name>IccRTTI2</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>OICompilerExtraOption</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>CCStackProtection</name>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -719,7 +740,7 @@
             <name>ILINK</name>
             <archiveVersion>0</archiveVersion>
             <data>
-                <version>20</version>
+                <version>23</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -1034,6 +1055,30 @@
                     <name>IlinkLocaleSelect</name>
                     <state>1</state>
                 </option>
+                <option>
+                    <name>IlinkTrustzoneImportLibraryOut</name>
+                    <state>###Unitialized###</state>
+                </option>
+                <option>
+                    <name>OILinkExtraOption</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>IlinkRawBinaryFile2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinarySymbol2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinarySegment2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinaryAlign2</name>
+                    <state></state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -1073,7 +1118,7 @@
             <name>General</name>
             <archiveVersion>3</archiveVersion>
             <data>
-                <version>28</version>
+                <version>31</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -1128,7 +1173,7 @@
                 </option>
                 <option>
                     <name>OGLastSavedByProductVersion</name>
-                    <state>7.70.1.11471</state>
+                    <state>8.50.1.24770</state>
                 </option>
                 <option>
                     <name>GeneralEnableMisra</name>
@@ -1174,11 +1219,11 @@
                 </option>
                 <option>
                     <name>RTConfigPath2</name>
-                    <state>$TOOLKIT_DIR$\INC\c\DLib_Config_Normal.h</state>
+                    <state>$TOOLKIT_DIR$\inc\c\DLib_Config_Normal.h</state>
                 </option>
                 <option>
                     <name>GBECoreSlave</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -1195,7 +1240,7 @@
                 </option>
                 <option>
                     <name>CoreVariant</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -1218,7 +1263,7 @@
                 </option>
                 <option>
                     <name>GFPUCoreSlave2</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -1258,13 +1303,26 @@
                     <name>GenLocaleDisplayOnly</name>
                     <state></state>
                 </option>
+                <option>
+                    <name>DSPExtension</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>TrustZone</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>TrustZoneModes</name>
+                    <version>0</version>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
             <name>ICCARM</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>34</version>
+                <version>36</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -1273,28 +1331,8 @@
                 </option>
                 <option>
                     <name>CCDefines</name>
-                    <state>ewarm</state>
-                    <state>CC2538_USE_ALTERNATE_INTERRUPT_MAP=1</state>
-                    <state>FEATURE_RESET_MACRO</state>
-                    <state>SECURE=1</state>
-                    <state>TC_LINKKEY_JOIN</state>
-                    <state>NV_INIT</state>
-                    <state>NV_RESTORE</state>
-                    <state>xZTOOL_P1</state>
-                    <state>xMT_TASK</state>
-                    <state>xMT_APP_FUNC</state>
-                    <state>xMT_SYS_FUNC</state>
-                    <state>xMT_ZDO_FUNC</state>
-                    <state>xMT_APP_CNF_FUNC</state>
-                    <state>LEGACY_LCD_DEBUG</state>
-                    <state>LCD_SUPPORTED=DEBUG</state>
-                    <state>MULTICAST_ENABLED=FALSE</state>
-                    <state>ZCL_READ</state>
-                    <state>ZCL_WRITE</state>
-                    <state>ZCL_BASIC</state>
-                    <state>ZCL_IDENTIFY</state>
-                    <state>ZCL_SCENES</state>
-                    <state>ZCL_GROUPS</state>
+                    <state>ewarm
+</state>
                 </option>
                 <option>
                     <name>CCPreprocFile</name>
@@ -1562,6 +1600,14 @@
                     <name>IccRTTI2</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>OICompilerExtraOption</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>CCStackProtection</name>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -1737,15 +1783,15 @@
                 <option>
                     <name>OOCOutputFormat</name>
                     <version>3</version>
-                    <state>3</state>
+                    <state>1</state>
                 </option>
                 <option>
                     <name>OCOutputOverride</name>
-                    <state>0</state>
+                    <state>1</state>
                 </option>
                 <option>
                     <name>OOCOutputFile</name>
-                    <state>GenericApp.bin</state>
+                    <state>GenericApp.hex</state>
                 </option>
                 <option>
                     <name>OOCCommandLineProducer</name>
@@ -1783,7 +1829,7 @@
             <name>ILINK</name>
             <archiveVersion>0</archiveVersion>
             <data>
-                <version>20</version>
+                <version>23</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -1931,7 +1977,7 @@
                 </option>
                 <option>
                     <name>DoFill</name>
-                    <state>1</state>
+                    <state>0</state>
                 </option>
                 <option>
                     <name>FillerByte</name>
@@ -2098,6 +2144,30 @@
                     <name>IlinkLocaleSelect</name>
                     <state>1</state>
                 </option>
+                <option>
+                    <name>IlinkTrustzoneImportLibraryOut</name>
+                    <state>GenericApp_import_lib.o</state>
+                </option>
+                <option>
+                    <name>OILinkExtraOption</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>IlinkRawBinaryFile2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinarySymbol2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinarySegment2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinaryAlign2</name>
+                    <state></state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -2137,7 +2207,7 @@
             <name>General</name>
             <archiveVersion>3</archiveVersion>
             <data>
-                <version>28</version>
+                <version>31</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -2242,7 +2312,7 @@
                 </option>
                 <option>
                     <name>GBECoreSlave</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -2259,7 +2329,7 @@
                 </option>
                 <option>
                     <name>CoreVariant</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -2282,7 +2352,7 @@
                 </option>
                 <option>
                     <name>GFPUCoreSlave2</name>
-                    <version>25</version>
+                    <version>28</version>
                     <state>38</state>
                 </option>
                 <option>
@@ -2322,13 +2392,26 @@
                     <name>GenLocaleDisplayOnly</name>
                     <state></state>
                 </option>
+                <option>
+                    <name>DSPExtension</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>TrustZone</name>
+                    <state>0</state>
+                </option>
+                <option>
+                    <name>TrustZoneModes</name>
+                    <version>0</version>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
             <name>ICCARM</name>
             <archiveVersion>2</archiveVersion>
             <data>
-                <version>34</version>
+                <version>36</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -2628,6 +2711,14 @@
                     <name>IccRTTI2</name>
                     <state>0</state>
                 </option>
+                <option>
+                    <name>OICompilerExtraOption</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>CCStackProtection</name>
+                    <state>0</state>
+                </option>
             </data>
         </settings>
         <settings>
@@ -2849,7 +2940,7 @@
             <name>ILINK</name>
             <archiveVersion>0</archiveVersion>
             <data>
-                <version>20</version>
+                <version>23</version>
                 <wantNonLocal>1</wantNonLocal>
                 <debug>1</debug>
                 <option>
@@ -3164,6 +3255,30 @@
                     <name>IlinkLocaleSelect</name>
                     <state>1</state>
                 </option>
+                <option>
+                    <name>IlinkTrustzoneImportLibraryOut</name>
+                    <state>###Unitialized###</state>
+                </option>
+                <option>
+                    <name>OILinkExtraOption</name>
+                    <state>1</state>
+                </option>
+                <option>
+                    <name>IlinkRawBinaryFile2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinarySymbol2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinarySegment2</name>
+                    <state></state>
+                </option>
+                <option>
+                    <name>IlinkRawBinaryAlign2</name>
+                    <state></state>
+                </option>
             </data>
         </settings>
         <settings>
diff --git a/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp.c b/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp.c
index a6b89c9..ea6d3cc 100644
--- a/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp.c
+++ b/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp.c
@@ -109,8 +109,7 @@
  * GLOBAL VARIABLES
  */
 byte zclGenericApp_TaskID;
-
-
+byte bLongKey=0;
 /*********************************************************************
  * GLOBAL FUNCTIONS
  */
@@ -118,7 +117,7 @@ byte zclGenericApp_TaskID;
 /*********************************************************************
  * LOCAL VARIABLES
  */
-
+void Report_ID_Attr(void);
 uint8 giGenAppScreenMode = GENERIC_MAINMODE;   // display the main screen mode first
 
 uint8 gPermitDuration = 0;    // permit joining default to disabled
@@ -243,6 +242,8 @@ void zclGenericApp_Init( byte task_id )
 {
   zclGenericApp_TaskID = task_id;
 
+  ZMacSetTransmitPower(TX_PWR_PLUS_22);
+  
   // This app is part of the Home Automation Profile
   bdb_RegisterSimpleDescriptor( &zclGenericApp_SimpleDesc );
 
@@ -291,8 +292,23 @@ void zclGenericApp_Init( byte task_id )
 #ifdef LCD_SUPPORTED
   HalLcdWriteString ( (char *)sDeviceName, HAL_LCD_LINE_3 );
 #endif  // LCD_SUPPORTED
-
-
+  
+  {
+    unsigned char temp8=0, tempZ=0;   
+    
+    if(osal_nv_item_init(NV_COUNTER_RESET, sizeof(temp8), (void*)&temp8) == SUCCESS) {
+      osal_nv_read(NV_COUNTER_RESET, 0, sizeof(temp8), (void*)&temp8 );    
+      osal_nv_write(NV_COUNTER_RESET, 0, sizeof(tempZ), (void*)&tempZ );
+      
+      if(temp8 >= NUMBER_FOR_RESET) {      
+        bdb_resetLocalAction();
+      }    
+    }
+  }
+  bdb_StartCommissioning(BDB_COMMISSIONING_MODE_NWK_STEERING |
+                         BDB_COMMISSIONING_MODE_FINDING_BINDING);
+  
+  osal_start_timerEx(zclGenericApp_TaskID, GENERICAPP_EVT_2, 500);
 }
 
 /*********************************************************************
@@ -333,8 +349,15 @@ uint16 zclGenericApp_event_loop( uint8 task_id, uint16 events )
                (zclGenericApp_NwkState == DEV_ROUTER)   ||
                (zclGenericApp_NwkState == DEV_END_DEVICE) )
           {
-            giGenAppScreenMode = GENERIC_MAINMODE;
-            zclGenericApp_LcdDisplayUpdate();
+            HalLedSet ( HAL_LED_1, HAL_LED_MODE_ON );
+            osal_stop_timerEx(zclGenericApp_TaskID, GENERICAPP_EVT_2);
+            Report_ID_Attr();
+          }
+          if(zclGenericApp_NwkState == DEV_HOLD) {
+            bdb_StartCommissioning(BDB_COMMISSIONING_MODE_NWK_FORMATION | 
+                             BDB_COMMISSIONING_MODE_NWK_STEERING | 
+                             BDB_COMMISSIONING_MODE_FINDING_BINDING | 
+                             BDB_COMMISSIONING_MODE_INITIATOR_TL);
           }
           break;
 
@@ -370,32 +393,56 @@ uint16 zclGenericApp_event_loop( uint8 task_id, uint16 events )
   
   
   if ( events & GENERICAPP_EVT_1 )
-  {
-    // toggle LED 2 state, start another timer for 500ms
-    HalLedSet ( HAL_LED_2, HAL_LED_MODE_TOGGLE );
-    osal_start_timerEx( zclGenericApp_TaskID, GENERICAPP_EVT_1, 500 );
-    
+  {   
+    osal_start_timerEx(zclGenericApp_TaskID, GENERICAPP_EVT_3, 100);  
+    bLongKey = 1;
     return ( events ^ GENERICAPP_EVT_1 );
   }
   
-  /*
+  
   if ( events & GENERICAPP_EVT_2 )
   {
-    
+    // toggle LED 2 state, start another timer for 500ms
+    HalLedSet ( HAL_LED_1, HAL_LED_MODE_TOGGLE );
+    osal_start_timerEx( zclGenericApp_TaskID, GENERICAPP_EVT_2, 500 );
     return ( events ^ GENERICAPP_EVT_2 );
   }
   
   if ( events & GENERICAPP_EVT_3 )
   {
-    
+    osal_start_timerEx(zclGenericApp_TaskID, GENERICAPP_EVT_3, 100);  
+    HalLedSet ( HAL_LED_1, HAL_LED_MODE_TOGGLE );    
     return ( events ^ GENERICAPP_EVT_3 );
   }
-  */
+  
   
   // Discard unknown events
   return 0;
 }
+afAddrType_t strRepId;
+uint16 SeqNum = 0;
+void Report_ID_Attr(void) {
+  zclReportCmd_t *pReportCmd;
 
+  pReportCmd = osal_mem_alloc(sizeof(zclReportCmd_t) +
+                              (sizeof(zclReport_t)));
+  if (pReportCmd != NULL) {
+    pReportCmd->numAttr = 1;
+    pReportCmd->attrList[0].attrID = ATTRID_BASIC_MODEL_ID;
+    pReportCmd->attrList[0].dataType = ZCL_DATATYPE_CHAR_STR;
+    pReportCmd->attrList[0].attrData = (void *)(&zclGenericApp_ModelId);
+
+    strRepId.addrMode = (afAddrMode_t)Addr16Bit;
+    strRepId.addr.shortAddr = 0;
+    strRepId.endPoint = 1;
+
+    zcl_SendReportCmd(GENERICAPP_ENDPOINT, &strRepId,
+                      ZCL_CLUSTER_ID_GEN_BASIC, pReportCmd,
+                      ZCL_FRAME_CLIENT_SERVER_DIR, false, SeqNum++);
+  }
+
+  osal_mem_free(pReportCmd);
+}
 
 /*********************************************************************
  * @fn      zclGenericApp_HandleKeys
@@ -412,65 +459,22 @@ uint16 zclGenericApp_event_loop( uint8 task_id, uint16 events )
  * @return  none
  */
 static void zclGenericApp_HandleKeys( byte shift, byte keys )
-{
-  if ( keys & HAL_KEY_SW_1 )
-  {
-    static bool LED_OnOff = FALSE;
-    
-    giGenAppScreenMode = GENERIC_MAINMODE;
-    
-    /* GENERICAPP_TODO: add app functionality to hardware keys here */
-    
-    // for example, start/stop LED 2 toggling with 500ms period
-    if (LED_OnOff)
-    { 
-      // if the LED is blinking, stop the osal timer and turn the LED off
-      osal_stop_timerEx(zclGenericApp_TaskID, GENERICAPP_EVT_1);
-      HalLedSet ( HAL_LED_2, HAL_LED_MODE_OFF );
-      LED_OnOff = FALSE;
-    }
-    else
-    {
-      // turn on LED 2 and start an osal timer to toggle it after 500ms, search
-      // for GENERICAPP_EVT_1 to see event handling after expired timer
-      osal_start_timerEx( zclGenericApp_TaskID, GENERICAPP_EVT_1, 500 );
-      HalLedSet ( HAL_LED_2, HAL_LED_MODE_ON );
-      LED_OnOff = TRUE;
-    }
-  }
+{ 
   // Start the BDB commissioning method
   if ( keys & HAL_KEY_SW_2 )
-  {
-    giGenAppScreenMode = GENERIC_MAINMODE;
-
-    bdb_StartCommissioning(BDB_COMMISSIONING_MODE_NWK_FORMATION | BDB_COMMISSIONING_MODE_NWK_STEERING | BDB_COMMISSIONING_MODE_FINDING_BINDING | BDB_COMMISSIONING_MODE_INITIATOR_TL);
-  }
-  if ( keys & HAL_KEY_SW_3 )
-  {
-    giGenAppScreenMode = GENERIC_MAINMODE;
-  
-    // touchlink target commissioning, if enabled  
-#if ( defined ( BDB_TL_TARGET ) && (BDB_TOUCHLINK_CAPABILITY_ENABLED == TRUE) )
-    bdb_StartCommissioning(BDB_COMMISSIONING_MODE_FINDING_BINDING);
-    touchLinkTarget_EnableCommissioning( 30000 );
-#endif
-    
-  }
-  if ( keys & HAL_KEY_SW_4 )
-  {
-    
-   giGenAppScreenMode = giGenAppScreenMode ? GENERIC_MAINMODE : GENERIC_HELPMODE;
-#ifdef LCD_SUPPORTED
-    HalLcdWriteString( (char *)sClearLine, HAL_LCD_LINE_2 );
-#endif
-    
-  }
-  if ( keys & HAL_KEY_SW_5 )
-  {
-    bdb_resetLocalAction();
+  {   
+    osal_start_timerEx(zclGenericApp_TaskID, GENERICAPP_EVT_1, 5000 );
+    HalLedSet ( HAL_LED_1, HAL_LED_MODE_BLINK );
+    Report_ID_Attr();
+    return;
+    //bdb_StartCommissioning(BDB_COMMISSIONING_MODE_NWK_FORMATION | BDB_COMMISSIONING_MODE_NWK_STEERING | BDB_COMMISSIONING_MODE_FINDING_BINDING | BDB_COMMISSIONING_MODE_INITIATOR_TL);
+  } else {
+    osal_stop_timerEx(zclGenericApp_TaskID, GENERICAPP_EVT_1);  
+    if(bLongKey) {
+      bLongKey = 0;
+      bdb_resetLocalAction();
+    }
   }
-
-  zclGenericApp_LcdDisplayUpdate();
 }
 
 /*********************************************************************
@@ -640,11 +644,11 @@ static void zclGenericApp_ProcessIdentifyTimeChange( uint8 endpoint )
 
   if ( zclGenericApp_IdentifyTime > 0 )
   {
-    HalLedBlink ( HAL_LED_2, 0xFF, HAL_LED_DEFAULT_DUTY_CYCLE, HAL_LED_DEFAULT_FLASH_TIME );
+    HalLedBlink ( HAL_LED_1, 0xFF, HAL_LED_DEFAULT_DUTY_CYCLE, HAL_LED_DEFAULT_FLASH_TIME );
   }
   else
   {
-    HalLedSet ( HAL_LED_2, HAL_LED_MODE_OFF );
+    HalLedSet ( HAL_LED_1, HAL_LED_MODE_ON );
   }
 }
 
diff --git a/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp.h b/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp.h
index 47c3bdc..4556315 100644
--- a/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp.h
+++ b/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp.h
@@ -61,7 +61,7 @@ extern "C"
 /*********************************************************************
  * CONSTANTS
  */
-#define GENERICAPP_ENDPOINT            8
+#define GENERICAPP_ENDPOINT            1
 // Added to include ZLL Target functionality
 #define GENERICAPP_NUM_GRPS            2
 
@@ -74,10 +74,11 @@ extern "C"
 /* GENERICAPP_TODO: define app events here */
   
 #define GENERICAPP_EVT_1                    0x0008
-/*
+
 #define GENERICAPP_EVT_2                    0x0010
+ 
 #define GENERICAPP_EVT_3                    0x0020
-*/
+
 
 // Application Display Modes
 #define GENERIC_MAINMODE      0x00
@@ -85,6 +86,9 @@ extern "C"
   
 #define GENERICAPP_END_DEVICE_REJOIN_DELAY 10000
 
+#define NV_COUNTER_RESET        0x0401
+   
+#define NUMBER_FOR_RESET        5        
 /*********************************************************************
  * MACROS
  */
@@ -110,6 +114,7 @@ extern CONST uint8 zclCmdsArraySize;
 // attribute list
 extern CONST zclAttrRec_t zclGenericApp_Attrs[];
 extern CONST uint8 zclGenericApp_NumAttributes;
+extern CONST uint8 zclGenericApp_ModelId[];
 
 // Identify attributes
 extern uint16 zclGenericApp_IdentifyTime;
diff --git a/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp_data.c b/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp_data.c
index d0d6ee2..c541922 100644
--- a/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp_data.c
+++ b/Projects/zstack/HomeAutomation/GenericApp/Source/zcl_genericapp_data.c
@@ -93,9 +93,9 @@ const uint16 zclGenericApp_clusterRevision_all = 0x0001;
 // Basic Cluster
 const uint8 zclGenericApp_HWRevision = GENERICAPP_HWVERSION;
 const uint8 zclGenericApp_ZCLVersion = GENERICAPP_ZCLVERSION;
-const uint8 zclGenericApp_ManufacturerName[] = { 16, 'T','e','x','a','s','I','n','s','t','r','u','m','e','n','t','s' };
-const uint8 zclGenericApp_ModelId[] = { 16, 'T','I','0','0','0','1',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ' };
-const uint8 zclGenericApp_DateCode[] = { 16, '2','0','0','6','0','8','3','1',' ',' ',' ',' ',' ',' ',' ',' ' };
+const uint8 zclGenericApp_ManufacturerName[] = { 7, 'j','e','t','h','o','m','e' };
+const uint8 zclGenericApp_ModelId[] = { 16, 'c','c','2','5','3','8','.','r','o','u','t','e','r','.','v','1' };
+const uint8 zclGenericApp_DateCode[] = { 16, '2','0','2','0','0','5','2','2',' ',' ',' ',' ',' ',' ',' ',' ' };
 const uint8 zclGenericApp_PowerSource = POWER_SOURCE_MAINS_1_PHASE;
 
 uint8 zclGenericApp_LocationDescription[17] = { 16, ' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ' };
@@ -162,7 +162,7 @@ CONST zclAttrRec_t zclGenericApp_Attrs[] =
     { // Attribute record
       ATTRID_BASIC_MODEL_ID,
       ZCL_DATATYPE_CHAR_STR,
-      ACCESS_CONTROL_READ,
+      (ACCESS_CONTROL_READ | ACCESS_REPORTABLE),
       (void *)zclGenericApp_ModelId
     }
   },
diff --git a/Projects/zstack/Tools/CC2538DB/CC2538.icf b/Projects/zstack/Tools/CC2538DB/CC2538.icf
index d4c95cc..e077a3f 100644
--- a/Projects/zstack/Tools/CC2538DB/CC2538.icf
+++ b/Projects/zstack/Tools/CC2538DB/CC2538.icf
@@ -15,7 +15,7 @@ define memory mem with size = 4G;
 //
 // Define a region for the on-chip program code space.
 //
-define region FLASH = mem:[from 0x00200000 to 0x0027C7FF];
+define region FLASH = mem:[from 0x00200000 to 0x002797FF];	//mem:[from 0x00200000 to 0x0027C7FF];
 
 //
 // Define a region for the OTA CRC structure.
@@ -39,7 +39,7 @@ define region FLASH = mem:[from 0x00200000 to 0x0027C7FF];
 //   The size of this region MUST MATCH the size defined by "HAL_NV_PAGE_CNT"
 //   in the file: hal_board_cfg.h
 //
-define region NV_MEM = mem:[from 0x0027C800 to 0x0027F7FF];
+define region NV_MEM = mem:[from 0x00279800 to 0x0027F7FF];		//mem:[from 0x0027C800 to 0x0027F7FF];
 
 //
 // Define regions for on-chip factory Commissioning Parameters.
@@ -87,7 +87,7 @@ define region FLASH_LCK = mem:[from 0x0027FFE0 to 0x0027FFFF];
 //
 // Define a region for the on-chip SRAM.
 //
-define region SRAM = mem:[from 0x20004000 to 0x20007FFF];
+define region SRAM = mem:[from 0x20000000 to 0x20007FFF];		//mem:[from 0x20004000 to 0x20007FFF];
 
 //
 // Define a block for the heap.  The size should be set to something other
diff --git a/Projects/zstack/Tools/CC2538DB/f8wConfig.cfg b/Projects/zstack/Tools/CC2538DB/f8wConfig.cfg
index 9d2c1bf..3bfbcaa 100644
--- a/Projects/zstack/Tools/CC2538DB/f8wConfig.cfg
+++ b/Projects/zstack/Tools/CC2538DB/f8wConfig.cfg
@@ -48,7 +48,7 @@
 //-DDEFAULT_CHANLIST=0x00004000  // 14 - 0x0E
 //-DDEFAULT_CHANLIST=0x00002000  // 13 - 0x0D
 //-DDEFAULT_CHANLIST=0x00001000  // 12 - 0x0C
--DDEFAULT_CHANLIST=0x00000800  // 11 - 0x0B
+-DDEFAULT_CHANLIST=0x07FFF800    //0x00000800  // 11 - 0x0B
 
 /* Define the default PAN ID.
  *
diff --git a/Projects/zstack/Tools/CC2538DB/f8wRouter.cfg b/Projects/zstack/Tools/CC2538DB/f8wRouter.cfg
index 713a1ef..7b0b6d3 100644
--- a/Projects/zstack/Tools/CC2538DB/f8wRouter.cfg
+++ b/Projects/zstack/Tools/CC2538DB/f8wRouter.cfg
@@ -16,5 +16,40 @@
 -DMAC_CFG_TX_MAX=8
 -DMAC_CFG_RX_MAX=5
 
+-DINT_HEAP_LEN=12288
+-DNWK_MAX_DEVICE_LIST=40
+-DMAX_NEIGHBOR_ENTRIES=100
+-DMTO_RREQ_LIMIT_TIME=5000
+
+-DLINK_DOWN_TRIGGER=6
+-DNWK_ROUTE_AGE_LIMIT=12
+-DBCAST_DELIVERY_TIME=100
+-DMAX_BCAST=12
+-DROUTE_DISCOVERY_TIME=13
+-DNWK_LINK_STATUS_PERIOD=60
 /* Router Settings */
 -DRTR_NWK                          // Router Functions
+
+-DCC2538_USE_ALTERNATE_INTERRUPT_MAP=1
+-DFEATURE_RESET_MACRO
+-DSECURE=1
+-DTC_LINKKEY_JOIN
+-DNV_INIT
+-DNV_RESTORE
+//-DZTOOL_P1
+//-DMT_TASK
+//-DMT_APP_FUNC
+//-DMT_SYS_FUNC
+//-DMT_ZDO_FUNC
+//-DMT_APP_CNF_FUNC
+//-DLEGACY_LCD_DEBUG
+//-DLCD_SUPPORTED=DEBUG
+-DMULTICAST_ENABLED=FALSE
+-DZCL_READ
+-DZCL_WRITE
+-DZCL_BASIC
+-DZCL_IDENTIFY
+-DZCL_SCENES
+-DZCL_GROUPS
+-DDISABLE_GREENPOWER_BASIC_PROXY
+-DZCL_REPORTING_DEVICE
\ No newline at end of file
diff --git a/Projects/zstack/ZMain/TI2538DB/ZMain.c b/Projects/zstack/ZMain/TI2538DB/ZMain.c
index 6b4d6c3..e0a0f42 100644
--- a/Projects/zstack/ZMain/TI2538DB/ZMain.c
+++ b/Projects/zstack/ZMain/TI2538DB/ZMain.c
@@ -62,6 +62,7 @@
 #include "eccapi_283.h"
 #endif
 
+#include "zcl_genericapp.h"
 /******************************************************************************
  * LOCAL DEFINITIONS
  */
@@ -94,8 +95,9 @@ static void zmain_lcd_init( void );
  * @return  Don't care
  */
 int main( void )
-{
+{  
   
+
   // Turn off interrupts
   osal_int_disable( INTS_ALL );
 
@@ -111,6 +113,19 @@ int main( void )
   // Initialize NV System
   osal_nv_init( NULL );
 
+  {
+    unsigned char temp8;
+    unsigned int ttt=0xFFFFF;
+    
+    if(osal_nv_item_init(NV_COUNTER_RESET, sizeof(temp8), (void*)&temp8) == SUCCESS) {
+      osal_nv_read(NV_COUNTER_RESET, 0, sizeof(temp8), (void*)&temp8 );
+      temp8++;
+      osal_nv_write(NV_COUNTER_RESET, 0, sizeof(temp8), (void*)&temp8 );
+      
+      while(ttt--);  
+    }
+  }
+  
   // Initialize the MAC
   ZMacInit();
 
@@ -150,8 +165,8 @@ int main( void )
 #ifdef WDT_IN_PM1
   /* If WDT is used, this is a good place to enable it. */
   WatchDogEnable( WDTIMX );
-#endif
-
+#endif    
+  
   osal_start_system(); // No Return from here
 
   return 0;  // Shouldn't get here.
